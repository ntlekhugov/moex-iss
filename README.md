# MOEX ISS API ‚Äî –ü–∞–∫–µ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –ë–∏—Ä–∂–∏

–ü—Ä–æ—Å—Ç–æ–π Python-–ø–∞–∫–µ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (ISS) –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –ë–∏—Ä–∂–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º –∞–∫—Ü–∏–π –∏ –æ–±–ª–∏–≥–∞—Ü–∏–π
- üîç –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- üíæ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV
- üñ•Ô∏è –£–¥–æ–±–Ω—ã–π CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üìì –ü—Ä–∏–º–µ—Ä—ã –≤ Jupyter Notebook

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd moex_iss_package

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
pip install -e .

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI)

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
python -m moex_iss --help

# –°–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É IMOEX
python -m moex_iss download IMOEX

# –°–∫–∞—á–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
python -m moex_iss download IMOEX MOEXOG RGBITR --start 2024-01-01

# –°–∫–∞—á–∞—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –æ–±–ª–∏–≥–∞—Ü–∏–π
python -m moex_iss download-bonds

# –°–∫–∞—á–∞—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –∞–∫—Ü–∏–π
python -m moex_iss download-equity

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
python -m moex_iss list

# –ü–æ–∫–∞–∑–∞—Ç—å —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
python -m moex_iss list --verbose

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω–¥–µ–∫—Å–µ
python -m moex_iss info IMOEX
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Python –∫–æ–¥–µ

```python
from moex_iss import MOEXClient

# –°–æ–∑–¥–∞—ë–º –∫–ª–∏–µ–Ω—Ç
client = MOEXClient()

# –°–∫–∞—á–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É IMOEX –∑–∞ 2024 –≥–æ–¥
df = client.get_index_history('IMOEX', start_date='2024-01-01')
print(df.head())

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
#   TRADEDATE     OPEN     HIGH      LOW    CLOSE
# 0 2024-01-03  3099.15  3120.45  3095.20  3115.30
# 1 2024-01-04  3115.30  3125.60  3100.10  3108.75
# ...

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ CSV
client.download_to_csv('IMOEX', 'imoex_2024.csv', start_date='2024-01-01')
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤

```python
from moex_iss import download_bond_indices, download_equity_indices

# –°–∫–∞—á–∞—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –æ–±–ª–∏–≥–∞—Ü–∏–π
results = download_bond_indices(output_dir='./data/bonds')

# –°–∫–∞—á–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∞–∫—Ü–∏–π
sectors = ['MOEXOG', 'MOEXFN', 'MOEXMM', 'MOEXIT']
results = download_equity_indices(sectors, output_dir='./data/equity')
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
moex_iss_package/
‚îú‚îÄ‚îÄ moex_iss/              # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ client.py          # –ö–ª–∏–µ–Ω—Ç MOEX ISS API
‚îÇ   ‚îú‚îÄ‚îÄ indices.py         # –°–ø–∏—Å–∫–∏ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ cli.py             # –ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ 01_basic_usage.py  # –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ 02_download_indices.py
‚îÇ   ‚îî‚îÄ‚îÄ moex_tutorial.ipynb # –£—á–µ–±–Ω—ã–π notebook
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ API_REFERENCE.md   # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ MOEX ISS API
‚îÇ   ‚îî‚îÄ‚îÄ INDICES_LIST.md    # –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–Ω–¥–µ–∫—Å–æ–≤
‚îú‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ pyproject.toml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MOEX ISS API

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API**: https://iss.moex.com/iss/reference/
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**: https://fs.moex.com/files/8888
- **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**: https://iss.moex.com/iss/reference/28

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

MOEX ISS API –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏:

```
–î–≤–∏–∂–∫–∏ (engines)
‚îî‚îÄ‚îÄ –†—ã–Ω–∫–∏ (markets)
    ‚îî‚îÄ‚îÄ –†–µ–∂–∏–º—ã —Ç–æ—Ä–≥–æ–≤ (boards)
        ‚îî‚îÄ‚îÄ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (securities)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–≤–∏–∂–∫–∏:**
| –î–≤–∏–∂–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `stock` | –§–æ–Ω–¥–æ–≤—ã–π —Ä—ã–Ω–æ–∫ (–∞–∫—Ü–∏–∏, –æ–±–ª–∏–≥–∞—Ü–∏–∏, –∏–Ω–¥–µ–∫—Å—ã) |
| `currency` | –í–∞–ª—é—Ç–Ω—ã–π —Ä—ã–Ω–æ–∫ |
| `futures` | –°—Ä–æ—á–Ω—ã–π —Ä—ã–Ω–æ–∫ (—Ñ—å—é—á–µ—Ä—Å—ã, –æ–ø—Ü–∏–æ–Ω—ã) |

**–†—ã–Ω–∫–∏ —Ñ–æ–Ω–¥–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞:**
| –†—ã–Ω–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `index` | –ò–Ω–¥–µ–∫—Å—ã |
| `shares` | –ê–∫—Ü–∏–∏ |
| `bonds` | –û–±–ª–∏–≥–∞—Ü–∏–∏ |

### –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–≤–∏–∂–∫–æ–≤
curl "http://iss.moex.com/iss/engines.json"

# –†—ã–Ω–∫–∏ —Ñ–æ–Ω–¥–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞
curl "http://iss.moex.com/iss/engines/stock/markets.json"

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
curl "http://iss.moex.com/iss/engines/stock/markets/index/securities.json"

# –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ IMOEX
curl "http://iss.moex.com/iss/history/engines/stock/markets/index/boards/SNDX/securities/IMOEX.json?from=2024-01-01"
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

### –ò–Ω–¥–µ–∫—Å—ã –∞–∫—Ü–∏–π (–æ—Å–Ω–æ–≤–Ω—ã–µ)

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|----------|
| `IMOEX` | –ò–Ω–¥–µ–∫—Å –ú–æ—Å–ë–∏—Ä–∂–∏ | –û—Å–Ω–æ–≤–Ω–æ–π —Ä—É–±–ª—ë–≤—ã–π –∏–Ω–¥–µ–∫—Å (~50 –∞–∫—Ü–∏–π) |
| `RTSI` | –ò–Ω–¥–µ–∫—Å RTS | –î–æ–ª–ª–∞—Ä–æ–≤—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç IMOEX |
| `MOEX10` | MOEX 10 | –¢–æ–ø-10 –ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∞–∫—Ü–∏–π |
| `MOEXBC` | –ì–æ–ª—É–±—ã–µ —Ñ–∏—à–∫–∏ | 15 –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π |
| `MOEXOG` | –ù–µ—Ñ—Ç—å –∏ –≥–∞–∑ | –ì–∞–∑–ø—Ä–æ–º, –†–æ—Å–Ω–µ—Ñ—Ç—å, –õ—É–∫–æ–π–ª |
| `MOEXFN` | –§–∏–Ω–∞–Ω—Å—ã | –°–±–µ—Ä–±–∞–Ω–∫, –í–¢–ë, –¢–∏–Ω—å–∫–æ—Ñ—Ñ |
| `MOEXMM` | –ú–µ—Ç–∞–ª–ª—ã | –ù–æ—Ä–Ω–∏–∫–µ–ª—å, –°–µ–≤–µ—Ä—Å—Ç–∞–ª—å, –ù–õ–ú–ö |
| `MOEXIT` | IT | –Ø–Ω–¥–µ–∫—Å, VK, Positive Technologies |

### –ò–Ω–¥–µ–∫—Å—ã –æ–±–ª–∏–≥–∞—Ü–∏–π (–æ—Å–Ω–æ–≤–Ω—ã–µ)

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|----------|
| `RGBITR` | –ì–æ—Å–æ–±–ª–∏–≥–∞—Ü–∏–∏ TR | –û–§–ó —Å —Ä–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫—É–ø–æ–Ω–æ–≤ |
| `RUGBITR1Y` | –û–§–ó <1 –≥–æ–¥ | –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –û–§–ó |
| `RUGBITR7Y+` | –û–§–ó >7 –ª–µ—Ç | –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –û–§–ó |
| `RUCBTRNS` | –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ | –®–∏—Ä–æ–∫–∏–π –∏–Ω–¥–µ–∫—Å –∫–æ—Ä–ø. –æ–±–ª–∏–≥–∞—Ü–∏–π |
| `RUCBHYTR` | –í—ã—Å–æ–∫–æ–¥–æ—Ö–æ–¥–Ω—ã–µ | –í–î–û (—Ä–µ–π—Ç–∏–Ω–≥ –Ω–∏–∂–µ BBB) |
| `DOMMBSTR` | –ò–ø–æ—Ç–µ—á–Ω—ã–µ | –û–±–ª–∏–≥–∞—Ü–∏–∏, –æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–µ –∏–ø–æ—Ç–µ–∫–æ–π |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–º. –≤ `docs/INDICES_LIST.md`

## –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ CSV —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `TRADEDATE` | –î–∞—Ç–∞ —Ç–æ—Ä–≥–æ–≤ (YYYY-MM-DD) |
| `SECID` | –ö–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ |
| `OPEN` | –¶–µ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è |
| `HIGH` | –ú–∞–∫—Å–∏–º—É–º –¥–Ω—è |
| `LOW` | –ú–∏–Ω–∏–º—É–º –¥–Ω—è |
| `CLOSE` | –¶–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è |
| `VALUE` | –û–±—ä—ë–º —Ç–æ—Ä–≥–æ–≤ (—Ä—É–±.) |

## FAQ

### –ù—É–∂–Ω–∞ –ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API?

–ù–µ—Ç, MOEX ISS API –æ—Ç–∫—Ä—ã—Ç –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

### –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤?

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤ –Ω–µ—Ç, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (0.5-1 —Å–µ–∫) –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ.

### –ü–æ—á–µ–º—É –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–∞—Ç—ã?

–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏, –∫–æ–≥–¥–∞ –±–∏—Ä–∂–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –∞–∫—Ü–∏—è–º?

```python
client = MOEXClient()
# –î–ª—è –∞–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ board='TQBR'
df = client.get_historical_data(
    engine='stock',
    market='shares',
    board='TQBR',
    security='SBER',  # –¢–∏–∫–µ—Ä –∞–∫—Ü–∏–∏
    from_date='2024-01-01'
)
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python >= 3.8
- pandas >= 1.5.0
- requests >= 2.28.0

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [MOEX ISS API Reference](https://iss.moex.com/iss/reference/)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ MOEX ISS (PDF)](https://fs.moex.com/files/8888)
- [–°–ø–∏—Å–æ–∫ –∏–Ω–¥–µ–∫—Å–æ–≤ MOEX](https://www.moex.com/ru/indices)
- [–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–æ–≤](https://www.moex.com/s2532)
